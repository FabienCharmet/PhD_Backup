\documentclass[a4paper, 11pt]{article}
\usepackage{comment} % enables the use of multi-line comments (\ifx \fi) 
% \usepackage{lipsum} %This package just generates Lorem Ipsum filler text. 
\usepackage{fullpage} % changes the margin
\usepackage{amssymb}  % assumes amsmath package installed
\usepackage{amsmath} % assumes amsmath package installed
\usepackage{url}
\usepackage[toc,page]{appendix}
\usepackage{algpseudocode}
\usepackage[ruled,noend,linesnumbered]{algorithm2e}
\usepackage{listings}
\usepackage{lastpage}
\usepackage{fancyhdr}
\usepackage[most]{tcolorbox}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{color}
\usepackage{xspace}
\usepackage{parskip}
% \usepackage{refcount}
\usepackage{paralist}
\usepackage{authblk}
\usepackage{etoolbox}
\usepackage{listings}
\usepackage{lipsum}
\usepackage{enumitem}
%\usepackage{fancyhdr}% http://ctan.org/pkg/fancyhdr
\usepackage{verbatim}% http://ctan.org/pkg/verbatim
\usepackage{multirow}
% \usepackage{slashbox}
\usepackage{caption}
\usepackage{cite}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15} 
\usepgfplotslibrary{patchplots}
% Extra depth for titles
\usepackage{titlesec}
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3}
\usepackage[nottoc,numbib]{tocbibind}
\usepackage{minted}

\usepackage{setspace}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true, %set true if you want colored links
    linktoc=all,     %set to all if you want both sections and subsections linked
    linkcolor=black, %choose some color if you want links to stand out
}
\usepackage{cleveref}


\lstset{numbers=left,numberstyle=\tiny,numbersep=5pt,language=Lisp,
  stringstyle=\ttfamily\small,basicstyle=\ttfamily\footnotesize,
  showstringspaces=false,breaklines=true,keywordstyle=\color{black},}

\setstretch{1.21}
%  MARGIN
\addtolength{\textwidth}{-0.4in}

\newtcolorbox{myformula}{colback=block-gray,boxrule=0pt,boxsep=0pt,breakable,halign= flush left}
\definecolor{block-gray}{gray}{0.95}

\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\boxedtext}[1]{\fbox{\scriptsize\bfseries\textsf{#1}}}
\newcommand{\myremark}[2]{
   \textcolor{blue}{\boxedtext{#1}
      {\small$\blacktriangleright$\emph{\textsl{#2}}$\blacktriangleleft$}
}}
\newcommand{\DELETE}[2]{
   \textcolor{red}{
         {\small$\blacktriangleright$\st{#2}$\blacktriangleleft$}
    }
}
\newcommand\GB[1]{\myremark{GB}{#1}}
\newcommand\CK[1]{\myremark{CK}{#1}}
\newcommand\FC[1]{\myremark{FC}{#1}}
\newcommand\RW[1]{\myremark{RW}{#1}}

\newcommand{\etc}{etc.\xspace}
\newcommand{\ie}{i.e.,\xspace}
\newcommand{\etal}{et al.\xspace}
\newcommand{\eg}{e.g.,\xspace}

\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

% \renewenvironment{equation}{\color{black}}{}

\title{\LARGE \bf Preservation of security properties during the migration of virtual networks in a SDN environment}

\author{Fabien Charmet}


\begin{document}
\pagenumbering{roman}

%Header-Make sure you update this information!!!!
% \noindent
\maketitle

\begin{abstract}
This thesis investigates the security of virtual network migration. Over the years, virtualization has been used to optimize physical resources and to support businesses' infrastructures. Virtualization consists in exposing a fraction of a resource for a user to operate. Virtual Machines are used to host business services like Web servers or a backup service. Network virtualization has not benefited from the same interest from researchers and the industry. The Software Defined Networking paradigm has introduced new possibilities to implement network virtualization and provide users with a flexible network, decoupled from the physical equipments. Virtual Networks are used to interconnect Virtual Machines and can be configured with specific routing policies or security protocols. In case of a failure of the resource, either accidental or intentional, the virtualization infrastructure will migrate the resource to maintain the service provided.

The security of Virtual Machines and their migration is a well researched topic that has been widely in the past, while the study of network virtualization and especially their migration are only beginning the required consideration. The motivation of this research is to provide a description of the security of the virtual network migration process in the context of Software Defined Networking.

We propose to model the virtualization infrastructure and describe the security of the migration process using a first order temporal logic. We then use this logic with a theorem prover to verify if a security violation occurred during the migration of a network. This model is based on the assumption that the formal proof is computed using perfect monitoring. We alleviate this assumption by modeling a resource allocation problem. We use a Markov Decision Process to determine the optimal placement of monitoring resources in the infrastructure.


\end{abstract}

\tableofcontents
\listoffigures
 \listoftables
\thispagestyle{empty}
% \pagestyle{empty}


\newpage
\pagenumbering{arabic}
\section{Introduction}
\input{introduction.tex}
 

\newpage
\section{State of the Art}
\label{sec:sota}
In this section, we provide a literature review of the different topics studied in this thesis.
First of all, we start by defining the different networking and virtualization concepts considered in this thesis.
Secondly, we examine the existing network hypervisors, and detail them under the scope of network migration with regard to the type of abstraction they provide.
Thirdly, we will investigate the security of the Virtual Network migration, namely by considering the attack surface of a similar problem, Live Virtual Machine migration, as well as the formal models used to express security properties in a computer network.
Both topics will outline the needs for a security study of the VN migration problem.
Lastly, the last topic considered here is related to the resource allocation problem in a network infrastructure, and we will present different formalism used in this context.
This problem is studied to improve the applicability of a model to a real life environment.

\subsection{Definitions}
\label{sec:basic_def}
\input{definitions.tex}

\newpage
\subsection{Network virtualization using SDN}

Network virtualization has leveraged the use of SDN to provide a flexible abstraction layer to service providers. In this section, we first propose classification criteria for network hypervisors and then evaluate existing hypervisors based on this classification. We will then propose a reference architecture for network hypervisors implementing a secure network migration feature, based on existing solutions.

\input{sota/sota-netvirt-sdn/introduction.tex}

\input{sota/sota-netvirt-sdn/existing_nhv.tex}

\input{sota/sota-netvirt-sdn/existingnvh-table.tex}

\input{sota/sota-netvirt-sdn/nhv_refarchi.tex}

\input{sota/sota-netvirt-sdn/summary_refarchi.tex}

\input{sota/sota-netvirt-sdn/refarchi_table.tex}

\input{sota/sota-netvirt-sdn/existing_vnmigration.tex}

\newpage
\subsection{Network \& VM security}

We have presented in Sections~\ref{sec:existing-nhv} and~\ref{sec:sota-vnmigration} existing solutions for network virtualization and virtual network migration. We now delve into the security aspect of network virtualization, and the related security topics. The security of VN migration is a topic that has never been  studied yet, while the security of VM migration has been thoroughly investigated. The following sections cover two topics, namely the security of the Live VM migration process and existing formal models for network security.
Existing formal models are useful to understand to which extend security in networks has been expressed but also it will help us to determine what has not beed modeled yet.

\subsubsection{Security of VM migration}

\input{sota/sota-VM/attacking_vmmigration.tex}

\subsubsection{Formal Models for network security}

\input{sota/sota-FM/existing_formalmodels.tex}

\newpage
\subsection{Resource Allocation in networking infrastructures}
The resource allocation (RA) problem consists in determining the optimal way to spend limited resources in order to achieve maximum profit while satisfying a set of constraints.
The VNE problem is a subclass of the RA problem, where the VNE component will determine the set of physical resources that will embed a virtual network, while maximizing the acceptance rate, \ie the ratio between accepted VN requests and total number of requests.
The VNE problem is constrained by available resources, but there might be other constraints like security requirements or geographical positioning rules.
In this section, we consider two different formalisms used to solve the RA problem, namely Game Theory and Markov Decision Processes. 

% \input{sota/sota-RA/LP.tex}
\input{sota/sota-RA/GT.tex}
\input{sota/sota-RA/MDP.tex}

\subsection{Conclusion}
\input{sota/sota-conclusion.tex}

\newpage
\section{Formal modeling of the migration process and its security}
\label{sec:formal_model}
\input{model/model-introduction.tex}

% \subsection{Methodology}
% \input{model/model-methodology.tex}

\subsection{Assumptions}
\input{model/model-assumptions.tex}

\subsection{Modeling physical and virtual networks}
\input{model/model-networks.tex}

\newpage
\subsection{Modeling the migration of Virtual Networks}
\input{model/model-migration.tex}

\newpage
\subsection{Security properties applied to Virtual Network migration}
\input{model/model-security-properties.tex}

\input{figures/virtualization-attack-surface.tex}
\newpage
\subsection{Attack model against the migration}
\input{model/model-attack-model.tex}

\subsection{Problem verification using a theorem prover}
\input{model/model-snark.tex}

\newpage
\subsection{Use cases: Detection of security violations}
\input{model/model-usecase.tex}

\newpage
\subsection{Conclusion}
\input{model/model-conclusion.tex}

\newpage
\section{Optimizing resource allocation of monitoring resources}
\label{sec:RAprob}
\input{RA/RA-motivation.tex}

\subsection{Game Theory}
\input{RA/GT.tex}

\newpage
\subsection{Markov Decision Process}
\input{RA/MDP.tex}

\newpage
\input{conclusion.tex}
\newpage
\bibliography{references}{}
\bibliographystyle{ieeetr}

\newpage
\begin{appendices}
\input{appendixes/glossary.tex}
\newpage
% \input{appendixes/snark-code.tex}
\newpage
\input{appendixes/notations.tex}
\end{appendices}


\end{document}
