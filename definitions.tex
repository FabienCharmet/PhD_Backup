In this section we will present the different network concepts and paradigms that will be explored throughout this thesis.
Specifically, we will detail the Software Defined Networking paradigm, and the network virtualization techniques that have emerged from it.

\subsection{Software Defined Networking}

Traditional networks are complex and difficult to operate~\cite{complexnetworks}, due to their heterogeneity and lack of interoperability. The network administrator is often tasked to configure each network element individually, and has to either do it manually or use low-level vendor specific scripts to deploy the configuration. The impossibility to aggregate these tasks into a unified flow becomes more and more problematic as network infrastructures grow, especially for Cloud Providers.

To overcome these aspects, a new networking paradigm has been proposed, namely Software Defined Networking (SDN).
The SDN paradigm consists in decoupling the control plane and the data plane.
The control plane is in charge of deciding how the network traffic should be processed upon entering the SDN infrastructure.
This task is performed by a centralized component called ''SDN controller`` and lies between end users and the physical infrastructure as depicted in Figure~\ref{fig:SDN-archi}. Instead of considering network traffic as individual packets, SDN aggregate packets into flows that are described by a match pattern (filter) and every packet belonging to the flow will be processed identically. Figure~\ref{fig:matching-fields} summarizes the different header fields a flow can be matched against.

\input{figures/SDN_archi.tex}

The programmability of the network has given developers a lot of flexibility to design new services and network applications that will run on top of the SDN controller.
For instance, a load balancing application can prioritize how the customer's traffic should be processed, following specific Quality of Service (QoS) requirements.
Another example is a firewall that may decide to drop all the packet from a specific source because of a Denial of Service (DoS) attack.
Applications can interact with the SDN controller via the Northbound API.
Usually, SDN controllers implement a REST API for these interactions~\cite{onos-Berde2014a,opendaylight,floodlight}.
OpenFlow~\cite{Openflow-McKeown2008} is considered the standard implementation of the SDN paradigm, with numerous vendors including it in their products.
OpenFlow provides an Southbound interface to communicate with network equipments and to install specific configurations using a match-action formalism.

\begin{figure}[h]
    \centering
    \includegraphics[scale=0.7]{figures/openflow-matchfields.pdf}
    \caption{OpenFlow matching fields~\cite{openflow-matchfields}}
    \label{fig:matching-fields}
\end{figure}

\subsection{Network Virtualization using SDN}
\label{def:netvirt}

For decades hypervisors have enabled the sharing of physical resources among several virtual machines.
Multiple users can run their own operating system simultaneously over a single physical machine.
However, VLANs, MPLS and VRF only provided limited virtualization for the network resource. The emergence of SDN and its flexibility for the design of network applications has been leveraged to give the network resource a reliable virtualization solution.

Figure~\ref{fig:virt-archi} illustrates the differences between a classic SDN environment and an SDN virtualization infrastructure. In part (a), different applications will be deployed on the SDN controller and will impact the whole physical network.
In part (b), the network hypervisor abstracts the view of the physical infrastructure into virtual networks to the end users (also referred to as tenants).
Each tenant will be able to deploy its applications on his own virtual network, that will in turn only impact the physical resources associated to it.

\begin{figure}[ht]
    \centering
    \includegraphics[scale=0.9]{figures/virt-archi.pdf}
    \caption{SDN infrastructure (a) vs. Virtualization infrastructure (b) from VeRTIGO~\cite{VeRTIGO-Corin2012a}}
    \label{fig:virt-archi}
\end{figure}


The process of mapping a virtual network with its underlying resources is referred to as the Virtual Network Embedding, and is illustrated in Figure~\ref{fig:VNE}.
Moreover, the hypervisor is in charge to provide isolation between tenants, preventing them from interacting with other tenants' virtual networks. Isolation covers either the resources allocated to tenants, such as bandwidth, switch CPU or flow tables memory, but it also includes the topology itself so a tenant cannot manipulate traffic that does not belong to him.

Two main information are used by tenants of the virtualization infrastructure, the address space and the flowspace.\\
\textbf{The address space} is the set of IP addresses that a tenant can assign to the hosts in his virtual network.\\
\textbf{The flowspace} is the set of header parameters the tenant can use when deploying flow rules to configure his virtual network (see Figure~\ref{fig:matching-fields}). The hypervisor may restrict the use of certain headers because the virtualization already uses them as internal identifiers.

Presenting a virtual network to the tenant can be done in three different ways, by slicing the physical infrastructure, by mapping it with the related physical resources or by providing an API to the tenant.\\
\textbf{A slice} is the set of resources allocated to a virtual network.
Slicing the physical infrastructure consists in presenting the tenant with only a small part of the infrastructure while hiding the rest of the network equipments.
The hypervisor gives tenants a direct access to the network nodes composing the slice, and the flow rules installed by the tenant will be rewritten to match the flow space he has been allocated.\\
The term slice is also found in the literature to describe the subdivision of a single physical resource. For instance, a slice can be a subdivision of a physical node corresponding to a specific tenant.\\
\textbf{Mapping} the virtual network with the physical infrastructure is an approach differing from network slicing by presenting an arbitrary network to the tenant while maintaining a mapping between the virtual elements used by the tenant and the physical resources they correspond to.
Similarly to slicing, when a tenant will interact with his virtual network, the hypervisor will be tasked to translate the identifiers and parameters used in the virtual network into the corresponding ones from the physical infrastructure.\\
\textbf{Providing} an API to the tenant allows the network hypervisor to have a better control over the capacities a tenant has on his virtual network. This extra abstraction layer can be used to limit the interactions of a tenant with his own virtual network or to alleviate existing limitations a tenant has to deploy network applications on top of his virtual network. 
\input{figures/vne.tex}
